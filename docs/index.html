<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monthly Iowa Liquor Sales By County And Category • ialiquor</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Monthly Iowa Liquor Sales By County And Category">
<meta property="og:description" content="Provides monthly statistics on Iowa liquor (class E) sales and revenue by county and category such as whiskey, schnapps, etc. Data source: Iowa Data portal &lt;https://data.iowa.gov/resource/m3tr-qhgy.csv&gt;">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ialiquor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/a_intro.html">Overview of Datasets</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="ialiquor" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ialiquor" class="anchor"></a>ialiquor</h1></div>
<!-- badges: start -->

<p>The <strong>{ialiquor}</strong> package provides a summary of the monthly liquor sales by county and by liquor type in the State of Iowa. This dataset comes from the Iowa Data Portal and is limited to beverages classified as <a href="https://abd.iowa.gov/license-classifications">Class E</a>. Class E beverages (as according to Iowa) are:</p>
<blockquote>
<p>For grocery, liquor and convenience stores, etc. Allows for the sale of alcoholic liquor for off-premises consumption in original unopened containers. No sales by the drink. Sunday sales are included. Also allows wholesale sales to on-premises Class A, B, C and D liquor licensees but must have a TTB Federal Wholesale Basic Permit.</p>
</blockquote>
<p>In other words, this dataset is limited to retailers that are essentially selling “hard” liquor. This does not include data for beer sales (which is a Class C license) or wine (which is a Class B license).</p>
<p><strong>WIP</strong></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>This package is not available on CRAN, but can be installed from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"nikdata/ialiquor"</span>, ref <span class="op">=</span> <span class="st">"main"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The {ialiquor} package provides a monthly summary of the alcohol (class</p>
<p>E) sales in the State of Iowa. There are two different datasets contained that provide total revenue, total cost to state, total bottles sold, and total volume sold (in liters) by either category (e.g., imported vodka, spearmint schnapps, etc.) or county name.</p>
<div id="preview-of-county-sales" class="section level3">
<h3 class="hasAnchor">
<a href="#preview-of-county-sales" class="anchor"></a>Preview of County Sales</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ialiquor</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">'county_sales'</span><span class="op">)</span>

<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">county_sales</span><span class="op">)</span>
<span class="co">#&gt; Rows: 11,869</span>
<span class="co">#&gt; Columns: 7</span>
<span class="co">#&gt; $ year_mon       &lt;dttm&gt; 2012-01-01, 2012-01-01, 2012-01-01, 2012-01-01, 2012-…</span>
<span class="co">#&gt; $ county         &lt;chr&gt; "Adair", "Adams", "Allamakee", "Appanoose", "Audubon",…</span>
<span class="co">#&gt; $ county_number  &lt;chr&gt; "01", "02", "03", "04", "05", "06", "07", "08", "09", …</span>
<span class="co">#&gt; $ state_cost     &lt;dbl&gt; 16606.07, 5856.93, 31804.52, 25961.56, 8965.06, 27215.…</span>
<span class="co">#&gt; $ bottles_sold   &lt;dbl&gt; 2263, 686, 3933, 3571, 1188, 3403, 89084, 7283, 10725,…</span>
<span class="co">#&gt; $ retail_revenue &lt;dbl&gt; 24967.11, 8803.29, 47799.05, 38976.62, 13472.98, 40914…</span>
<span class="co">#&gt; $ liters_sold    &lt;dbl&gt; 2165.94, 701.04, 4177.72, 3395.90, 1245.01, 3474.91, 6…</span></code></pre></div>
</div>
<div id="preview-of-category-sales" class="section level3">
<h3 class="hasAnchor">
<a href="#preview-of-category-sales" class="anchor"></a>Preview of Category Sales</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ialiquor</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">'category_sales'</span><span class="op">)</span>

<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">category_sales</span><span class="op">)</span>
<span class="co">#&gt; Rows: 6,492</span>
<span class="co">#&gt; Columns: 7</span>
<span class="co">#&gt; $ year_mon       &lt;dttm&gt; 2012-01-01, 2012-01-01, 2012-01-01, 2012-01-01, 2012-…</span>
<span class="co">#&gt; $ type           &lt;chr&gt; "vodka", "other", "liqueur", "cocktail", "gin", "brand…</span>
<span class="co">#&gt; $ category       &lt;chr&gt; "100 proof vodka", "american alcohol", "american amare…</span>
<span class="co">#&gt; $ state_cost     &lt;dbl&gt; 69602.62, 30443.92, 36267.20, 247123.89, 164411.67, 15…</span>
<span class="co">#&gt; $ retail_revenue &lt;dbl&gt; 104432.75, 45665.88, 54408.14, 375718.34, 246903.72, 2…</span>
<span class="co">#&gt; $ bottles_sold   &lt;dbl&gt; 12326, 3796, 8749, 35344, 37016, 39683, 646, 68, 5773,…</span>
<span class="co">#&gt; $ liters_sold    &lt;dbl&gt; 14100.75, 2847.00, 8006.00, 50682.25, 28496.46, 20741.…</span></code></pre></div>
</div>
<div id="potential-use-cases" class="section level3">
<h3 class="hasAnchor">
<a href="#potential-use-cases" class="anchor"></a>Potential Use Cases</h3>
<div id="monthly-profit-by-year-month" class="section level4">
<h4 class="hasAnchor">
<a href="#monthly-profit-by-year-month" class="anchor"></a>Monthly Profit by Year Month</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ialiquor</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"county_sales"</span><span class="op">)</span>

<span class="va">county_sales</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year_mon</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    total_cost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">state_cost</span><span class="op">)</span>,
    total_revenue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">retail_revenue</span><span class="op">)</span>,
    state_profit <span class="op">=</span> <span class="op">(</span><span class="va">total_revenue</span><span class="op">-</span><span class="va">total_cost</span><span class="op">)</span><span class="op">/</span><span class="fl">1000000</span>,
    .groups <span class="op">=</span> <span class="st">'drop'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year_mon</span>, y <span class="op">=</span> <span class="va">state_profit</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">'blue'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">state_profit</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'blue'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Month Year'</span>, y <span class="op">=</span> <span class="st">"Profit in Millions (US$)"</span>, title <span class="op">=</span> <span class="st">'Monthly Alcohol Profit'</span>, caption <span class="op">=</span> <span class="st">'Source: Iowa Data Portal'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">15</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">'6 months'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, 
                 panel.border <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">'darkgray'</span>, fill <span class="op">=</span> <span class="cn">NA</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
</div>
</div>
<div id="top-10-alcohol-categories-by-liters-sold" class="section level3">
<h3 class="hasAnchor">
<a href="#top-10-alcohol-categories-by-liters-sold" class="anchor"></a>Top 10 Alcohol Categories by Liters Sold</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ialiquor</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"category_sales"</span><span class="op">)</span>

<span class="va">category_sales</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    total_liters_sold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">liters_sold</span><span class="op">)</span>,
    .groups <span class="op">=</span> <span class="st">'keep'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">total_liters_sold</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; Selecting by total_liters_sold</span>
<span class="co">#&gt; # A tibble: 12 x 2</span>
<span class="co">#&gt; # Groups:   type [12]</span>
<span class="co">#&gt;    type     total_liters_sold</span>
<span class="co">#&gt;    &lt;chr&gt;                &lt;dbl&gt;</span>
<span class="co">#&gt;  1 whiskey         55877755. </span>
<span class="co">#&gt;  2 vodka           55411656. </span>
<span class="co">#&gt;  3 rum             23394506. </span>
<span class="co">#&gt;  4 liqueur          8626919. </span>
<span class="co">#&gt;  5 tequila          7060417. </span>
<span class="co">#&gt;  6 schnapps         6982939. </span>
<span class="co">#&gt;  7 cocktail         6721458. </span>
<span class="co">#&gt;  8 other            5579965. </span>
<span class="co">#&gt;  9 brandy           5531661. </span>
<span class="co">#&gt; 10 gin              4989163. </span>
<span class="co">#&gt; 11 unknown           187463. </span>
<span class="co">#&gt; 12 beer                  40.5</span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Nikhil Agarwal <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1470-7472" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a></li>
<li><a href="https://github.com/nikdata/ialiquor/commit/master"><img src="https://img.shields.io/github/last-commit/nikdata/ialiquor" alt="GitHub commit"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Nikhil Agarwal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
