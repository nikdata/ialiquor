<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyzing Iowa Liquor Sales • ialiquor</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Analyzing Iowa Liquor Sales">
<meta property="og:description" content="ialiquor">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ialiquor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a_intro.html">Overview of Datasets</a>
    </li>
    <li>
      <a href="../articles/b_analysis.html">Analyzing Iowa Liquor Sales</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="b_analysis_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="b_analysis_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="b_analysis_files/anchor-sections-1.0/anchor-sections.js"></script><script src="b_analysis_files/htmlwidgets-1.5.2/htmlwidgets.js"></script><script src="b_analysis_files/plotly-binding-4.9.2.1/plotly.js"></script><script src="b_analysis_files/typedarray-0.1/typedarray.min.js"></script><script src="b_analysis_files/jquery-1.11.3/jquery.min.js"></script><link href="b_analysis_files/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet">
<script src="b_analysis_files/crosstalk-1.1.0.1/js/crosstalk.min.js"></script><link href="b_analysis_files/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="b_analysis_files/plotly-main-1.52.2/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Analyzing Iowa Liquor Sales</h1>
            
      
      
      <div class="hidden name"><code>b_analysis.Rmd</code></div>

    </div>

    
    
<p>The {ialiquor} package provides a monthly summary Class E liquor sales in the state of Iowa by county or category between January 2015 and October 2020. This document is designed to demonstrate some potential use cases/analyses.</p>
<div id="dataset-preview" class="section level2">
<h2 class="hasAnchor">
<a href="#dataset-preview" class="anchor"></a>Dataset Preview</h2>
<p>Let us quickly preview the main dataset. We will also store the dataset in a new variable called <code>liquor</code> for ease of use.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ialiquor</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"liquor_sales"</span><span class="op">)</span>

<span class="va">liquor</span> <span class="op">&lt;-</span> <span class="va">liquor_sales</span></code></pre></div>
<p>Let’s preview the sales by county:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">liquor</span><span class="op">)</span>
<span class="co">#&gt; Rows: 280,736</span>
<span class="co">#&gt; Columns: 10</span>
<span class="co">#&gt; $ year          &lt;dbl&gt; 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2…</span>
<span class="co">#&gt; $ year_month    &lt;dttm&gt; 2015-01-01, 2015-01-01, 2015-01-01, 2015-01-01, 2015-0…</span>
<span class="co">#&gt; $ county        &lt;chr&gt; "adair", "adair", "adair", "adair", "adair", "adair", "…</span>
<span class="co">#&gt; $ population    &lt;dbl&gt; 7145, 7145, 7145, 7145, 7145, 7145, 7145, 7145, 7145, 7…</span>
<span class="co">#&gt; $ type          &lt;chr&gt; "vodka", "other", "liqueur", "cocktail", "liqueur", "gi…</span>
<span class="co">#&gt; $ category      &lt;chr&gt; "100 proof vodka", "american alcohol", "american amaret…</span>
<span class="co">#&gt; $ state_cost    &lt;dbl&gt; 253.62, 54.00, 88.98, 182.40, 346.29, 99.57, 257.72, 31…</span>
<span class="co">#&gt; $ state_revenue &lt;dbl&gt; 380.70, 81.00, 133.50, 277.10, 519.45, 149.38, 388.12, …</span>
<span class="co">#&gt; $ bottles_sold  &lt;dbl&gt; 54, 6, 18, 26, 36, 24, 47, 5, 18, 36, 92, 633, 60, 25, …</span>
<span class="co">#&gt; $ volume        &lt;dbl&gt; 58.50, 4.50, 19.50, 45.50, 27.00, 15.00, 34.00, 3.75, 1…</span></code></pre></div>
<p>The <code>type</code> column is a derived column (not found on the original dataset) that is a higher level grouping column for more specific types (i.e., categories) of liquor. For instance, amaretto is considered to be a liqueur and bourbon/scotch is just whiskey. It is important to keep in mind that this variable (<code>type</code>) is arbitrary and defined by the package author.</p>
</div>
<div id="exploratory-data-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#exploratory-data-analysis" class="anchor"></a>Exploratory Data Analysis</h2>
<p>Luckily for us, all of variables in each of the datasets are coded correctly. Let’s focus on answering some of the key questions:</p>
<ul>
<li>Retail Revenue by County</li>
<li>Revenue per Person</li>
<li>Profit by Type of Liquor</li>
<li>2019 Profit by Type Breakdown</li>
<li>2019 Top Categories</li>
<li>Proportion of Costs by Type</li>
</ul>
<div id="top-retail-revenue-counties-each-year" class="section level3">
<h3 class="hasAnchor">
<a href="#top-retail-revenue-counties-each-year" class="anchor"></a>Top Retail Revenue Counties Each Year</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>

<span class="va">liquor</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">county</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    total_revenue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">state_revenue</span><span class="op">)</span>,
    .groups <span class="op">=</span> <span class="st">'drop'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.max</a></span><span class="op">(</span><span class="va">total_revenue</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 3</span>
<span class="co">#&gt; # Groups:   year [6]</span>
<span class="co">#&gt;    year county total_revenue</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2015 polk       63748123.</span>
<span class="co">#&gt; 2  2016 polk       65849029.</span>
<span class="co">#&gt; 3  2017 polk       70524272.</span>
<span class="co">#&gt; 4  2018 polk       78297082.</span>
<span class="co">#&gt; 5  2019 polk       82838081.</span>
<span class="co">#&gt; 6  2020 polk       73722537.</span></code></pre></div>
<p>It’s interesting to note that Polk county had the most revenue. Why is that? Let’s take a look at the top county for each year in terms of population</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">liquor</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">county</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">population</span><span class="op">)</span>,
    .groups <span class="op">=</span> <span class="st">'drop'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.max</a></span><span class="op">(</span><span class="va">population</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 3</span>
<span class="co">#&gt; # Groups:   year [5]</span>
<span class="co">#&gt;    year county population</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2015 polk       467304</span>
<span class="co">#&gt; 2  2016 polk       474277</span>
<span class="co">#&gt; 3  2017 polk       480487</span>
<span class="co">#&gt; 4  2018 polk       485833</span>
<span class="co">#&gt; 5  2019 polk       490161</span></code></pre></div>
<p>Seems as if Polk County is the largest county and it may be intuitive to assume that there are more persons buying liquor in this county.</p>
<p>So let’s look at revenue per person (based on population of the year), will we see different results?</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">liquor</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>
    rev_per_person <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">state_revenue</span> <span class="op">/</span> <span class="va">population</span> , <span class="fl">2</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">county</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    rev_per_person <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">rev_per_person</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,
    .groups <span class="op">=</span> <span class="st">'drop'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.max</a></span><span class="op">(</span><span class="va">rev_per_person</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 3</span>
<span class="co">#&gt; # Groups:   year [5]</span>
<span class="co">#&gt;    year county    rev_per_person</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2015 dickinson           233.</span>
<span class="co">#&gt; 2  2016 dickinson           243.</span>
<span class="co">#&gt; 3  2017 dickinson           244.</span>
<span class="co">#&gt; 4  2018 dickinson           254.</span>
<span class="co">#&gt; 5  2019 dickinson           273.</span></code></pre></div>
<p>Now this is interesting. Seems as if Dickinson county has the highest revenue per person. Keep in mind that the population values also represent individuals who are not of legal age to consume liquor (i.e., under the legal age of 21). Due to the large data size, this package does not contain the brand of liquor. However, this can easily be obtained via the Iowa Data Portal for further analysis.</p>
</div>
<div id="top-types-of-liquor-by-profit-to-state" class="section level3">
<h3 class="hasAnchor">
<a href="#top-types-of-liquor-by-profit-to-state" class="anchor"></a>Top Types of Liquor by Profit to State</h3>
<p>Perhaps it is interesting to look at the profit to the state by type of liquor over time.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">liquor</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">type</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'beer'</span>,<span class="st">'other'</span>,<span class="st">'unknown'</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>
    profit <span class="op">=</span> <span class="va">state_revenue</span> <span class="op">-</span> <span class="va">state_cost</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    total_profit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">profit</span><span class="op">)</span>,
    .groups <span class="op">=</span> <span class="st">'drop'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="op">~</span><span class="va">year</span>,
    y <span class="op">=</span> <span class="op">~</span><span class="va">total_profit</span>,
    color <span class="op">=</span> <span class="op">~</span><span class="va">type</span>,
    type <span class="op">=</span> <span class="st">'scatter'</span>,
    mode <span class="op">=</span> <span class="st">'lines'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html">layout</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">"Annual Profit from Class E Liquor Sales by Liquor Type"</span>,
    yaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Profit in US$"</span><span class="op">)</span>,
    xaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span>,
    annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1.2</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>,
                       text <span class="op">=</span> <span class="st">"Source: Iowa Data Portal"</span>,
                       showarrow <span class="op">=</span> <span class="cn">F</span>, xref <span class="op">=</span> <span class="st">'paper'</span>, yref <span class="op">=</span> <span class="st">'paper'</span>,
                       font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, color <span class="op">=</span> <span class="st">'darkblue'</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<p></p>
<div id="htmlwidget-fe1717f1c8da31abcfbc" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-fe1717f1c8da31abcfbc">{"x":{"visdat":{"2405588361e8":["function () ","plotlyVisDat"]},"cur_data":"2405588361e8","attrs":{"2405588361e8":{"x":{},"y":{},"mode":"lines","color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Annual Profit from Class E Liquor Sales by Liquor Type","yaxis":{"domain":[0,1],"automargin":true,"title":"Profit in US$"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Year"},"annotations":[{"x":1.2,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}},{"x":1.2,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}}],"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2015,2016,2017,2018,2019,2020],"y":[3932620.93,4027549.51,4644831.86,5308431.09,5700565.81,6201011.52],"mode":"lines","type":"scatter","name":"brandy","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[1490478.24,1564456.89,1751648.92,1776476.08,1830576.81,2611604.79],"mode":"lines","type":"scatter","name":"cocktail","marker":{"color":"rgba(239,150,106,1)","line":{"color":"rgba(239,150,106,1)"}},"textfont":{"color":"rgba(239,150,106,1)"},"error_y":{"color":"rgba(239,150,106,1)"},"error_x":{"color":"rgba(239,150,106,1)"},"line":{"color":"rgba(239,150,106,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[2549261.25,2536406.46,2585724.26,2681720.14,2759843.13,2468383.14],"mode":"lines","type":"scatter","name":"gin","marker":{"color":"rgba(178,156,177,1)","line":{"color":"rgba(178,156,177,1)"}},"textfont":{"color":"rgba(178,156,177,1)"},"error_y":{"color":"rgba(178,156,177,1)"},"error_x":{"color":"rgba(178,156,177,1)"},"line":{"color":"rgba(178,156,177,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[6515873.67,5877175.38,6333104.58,6744752.89,6502295.47,5753525.94],"mode":"lines","type":"scatter","name":"liqueur","marker":{"color":"rgba(201,148,198,1)","line":{"color":"rgba(201,148,198,1)"}},"textfont":{"color":"rgba(201,148,198,1)"},"error_y":{"color":"rgba(201,148,198,1)"},"error_x":{"color":"rgba(201,148,198,1)"},"line":{"color":"rgba(201,148,198,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[12337882.92,11994343.48,12244496.95,12535589.5,12294483.46,10874328.7],"mode":"lines","type":"scatter","name":"rum","marker":{"color":"rgba(205,180,144,1)","line":{"color":"rgba(205,180,144,1)"}},"textfont":{"color":"rgba(205,180,144,1)"},"error_y":{"color":"rgba(205,180,144,1)"},"error_x":{"color":"rgba(205,180,144,1)"},"line":{"color":"rgba(205,180,144,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[3368345.46,3466097.31,3288597.58,3499887.83,3613636.24,3031592.65],"mode":"lines","type":"scatter","name":"schnapps","marker":{"color":"rgba(202,217,72,1)","line":{"color":"rgba(202,217,72,1)"}},"textfont":{"color":"rgba(202,217,72,1)"},"error_y":{"color":"rgba(202,217,72,1)"},"error_x":{"color":"rgba(202,217,72,1)"},"line":{"color":"rgba(202,217,72,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[5277845.14,5315152.27,5636244.01,6598770.56,7243105.1,7450083.88],"mode":"lines","type":"scatter","name":"tequila","marker":{"color":"rgba(250,212,80,1)","line":{"color":"rgba(250,212,80,1)"}},"textfont":{"color":"rgba(250,212,80,1)"},"error_y":{"color":"rgba(250,212,80,1)"},"error_x":{"color":"rgba(250,212,80,1)"},"line":{"color":"rgba(250,212,80,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[22768437.67,23704374.55,25653491.67,27623163.56,27783614.17,24957358.4],"mode":"lines","type":"scatter","name":"vodka","marker":{"color":"rgba(223,194,152,1)","line":{"color":"rgba(223,194,152,1)"}},"textfont":{"color":"rgba(223,194,152,1)"},"error_y":{"color":"rgba(223,194,152,1)"},"error_x":{"color":"rgba(223,194,152,1)"},"line":{"color":"rgba(223,194,152,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2015,2016,2017,2018,2019,2020],"y":[34702594.21,35300157.86,37106961.22,40791960.4,43793231.91,40223539.37],"mode":"lines","type":"scatter","name":"whiskey","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script> From the chart above, we can see that whiskey, vodka, and rum account for quite a bit of profit for the state as compared to the other types of liquor. Anecdotally speaking, when I shop at my local liquor store, I do find many types of whiskeys. However, I’m surprised to see rum in the top three as I don’t see as many rum varieties as compared to tequila or liqueur.
</div>
<div id="top-profit-makers-for-2019" class="section level3">
<h3 class="hasAnchor">
<a href="#top-profit-makers-for-2019" class="anchor"></a>Top Profit Makers for 2019</h3>
<p>Let’s focus on 2019 and see which types of liquor accounted for the vast majority. For this, we’ll make a pie chart. The conclusions may be similar to before, but in this case, we can see the impact of the different types for one year a bit more clearly.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">liquor</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">type</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'beer'</span>,<span class="st">'other'</span>,<span class="st">'unknown'</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>
    profit <span class="op">=</span> <span class="va">state_revenue</span> <span class="op">-</span> <span class="va">state_cost</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2019</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    total_profit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">profit</span><span class="op">)</span>,
    .groups <span class="op">=</span> <span class="st">'drop'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>
    labels <span class="op">=</span> <span class="op">~</span><span class="va">type</span>,
    values <span class="op">=</span> <span class="op">~</span><span class="va">total_profit</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_pie</a></span><span class="op">(</span>hole <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html">layout</a></span><span class="op">(</span>
  title <span class="op">=</span> <span class="st">"2019 Profit Percentage by Liquor Type"</span>,
  annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1.2</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>,
                     text <span class="op">=</span> <span class="st">"Source: Iowa Data Portal"</span>,
                     showarrow <span class="op">=</span> <span class="cn">F</span>, xref <span class="op">=</span> <span class="st">'paper'</span>, yref <span class="op">=</span> <span class="st">'paper'</span>,
                     font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, color <span class="op">=</span> <span class="st">'darkblue'</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-cc5bba5288b3b3a31a8e" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-cc5bba5288b3b3a31a8e">{"x":{"visdat":{"24057b724c0e":["function () ","plotlyVisDat"]},"cur_data":"24057b724c0e","attrs":{"24057b724c0e":{"labels":{},"values":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie","hole":0.4,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"2019 Profit Percentage by Liquor Type","annotations":[{"x":1.2,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}},{"x":1.2,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}}],"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["brandy","cocktail","gin","liqueur","rum","schnapps","tequila","vodka","whiskey"],"values":[5700565.81,1830576.81,2759843.13,6502295.47,12294483.46,3613636.24,7243105.1,27783614.17,43793231.91],"type":"pie","hole":0.4,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="top-categories-for-2019" class="section level3">
<h3 class="hasAnchor">
<a href="#top-categories-for-2019" class="anchor"></a>Top Categories for 2019</h3>
<p>While the <code>type</code> variable is derived by me (the package author), the <code>category</code> variable is determined by the State of Iowa. The following tree map illustrates the breakdown of the different categories that resulted in the highest profit to the state.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">liquor</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">type</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'beer'</span>,<span class="st">'other'</span>,<span class="st">'unknown'</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>
    profit <span class="op">=</span> <span class="va">state_revenue</span> <span class="op">-</span> <span class="va">state_cost</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2019</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">type</span>, <span class="va">category</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    total_profit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">profit</span><span class="op">)</span>,
    .groups <span class="op">=</span> <span class="st">'drop'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>
    labels <span class="op">=</span> <span class="op">~</span><span class="va">category</span>,
    values <span class="op">=</span> <span class="op">~</span><span class="va">total_profit</span>,
    type <span class="op">=</span> <span class="st">'treemap'</span>,
    parents <span class="op">=</span> <span class="cn">NA</span>,
    name <span class="op">=</span> <span class="st">'test'</span>,
    textinfo<span class="op">=</span><span class="st">"label+value parent"</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html">layout</a></span><span class="op">(</span>
  title <span class="op">=</span> <span class="st">"2019 Highest Profit Categories"</span>,
  annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>,
                     text <span class="op">=</span> <span class="st">"Source: Iowa Data Portal"</span>,
                     showarrow <span class="op">=</span> <span class="cn">F</span>, xref <span class="op">=</span> <span class="st">'paper'</span>, yref <span class="op">=</span> <span class="st">'paper'</span>,
                     font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, color <span class="op">=</span> <span class="st">'darkblue'</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-fdd9ec24a41d95fb237e" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-fdd9ec24a41d95fb237e">{"x":{"visdat":{"24051fc5aa9f":["function () ","plotlyVisDat"]},"cur_data":"24051fc5aa9f","attrs":{"24051fc5aa9f":{"labels":{},"values":{},"parents":null,"textinfo":"label+value parent","name":"test","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"treemap"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"2019 Highest Profit Categories","annotations":[{"x":1,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}},{"x":1,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}}],"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["american brandies","imported brandies","cocktails / rtd","american dry gins","american sloe gins","flavored gin","imported dry gins","american cordials & liqueur","coffee liqueurs","cream liqueurs","imported cordials & liqueur","aged dark rum","flavored rum","gold rum","spiced rum","white rum","american schnapps","imported schnapps","100% agave tequila","mixto tequila","american flavored vodka","american vodka","imported flavored vodka","imported vodka","blended whiskies","bottled in bond bourbon","canadian whiskies","corn whiskies","iowa distillery whiskies","irish whiskies","scotch whiskies","single barrel bourbon whiskies","single malt scotch","straight bourbon whiskies","straight rye whiskies","tennessee whiskies","whiskey liqueur"],"values":[1748875.73,3951690.08,1830576.81,1156901.48,9714.17,36374.14,1556853.34,924871.03,617289.49,2169276.56,2790858.39,236363.8,2367552.44,391819.23,7146333.97,2152414.02,1834827.84,1778808.4,4259310.33,2983794.77,2960727.63,17242415.41,2156733.41,5423737.72,3157767.36,63914.89,14154280.62,78399.33,62914.38,2629250.19,1736675.04,163372.18,1235286.62,7996469.14,1080589.25,4846792.08,6587520.83],"parents":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"textinfo":"label+value parent","name":"test","type":"treemap","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>It is interesting to see that ‘american vodka’ and ‘canadian whiskeys’ contributed the most to the 2019 profit. While this dataset does not contain specific brands, we can tap into the API to find the brands associated with ‘american vodka’ or ‘canadian whiskies’. Personally, I’m a fan of scotch (type of whiskey from Scotland) and it seems as if that type of whiskey is not very popular in Iowa!</p>
</div>
<div id="proportion-of-costs-to-state" class="section level3">
<h3 class="hasAnchor">
<a href="#proportion-of-costs-to-state" class="anchor"></a>Proportion of Costs to State</h3>
<p>Last but not least, let’s take a look at the proportion of costs to the state. These are costs paid by the state to purchase the liquor from the appropriate vendors.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">liquor_sales</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">type</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'beer'</span>,<span class="st">'other'</span>,<span class="st">'unknown'</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year_month</span>, <span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>total_cost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">state_cost</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">'drop'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>
    names_from <span class="op">=</span> <span class="va">type</span>,
    values_from <span class="op">=</span> <span class="va">total_cost</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="op">~</span><span class="va">year_month</span>,
    y <span class="op">=</span> <span class="op">~</span><span class="va">brandy</span>,
    name <span class="op">=</span> <span class="st">'Brandy'</span>,
    type <span class="op">=</span> <span class="st">'scatter'</span>,
    mode <span class="op">=</span> <span class="st">'none'</span>,
    stackgroup <span class="op">=</span> <span class="st">'one'</span>,
    groupnorm <span class="op">=</span> <span class="st">'percent'</span>,
    fillcolor <span class="op">=</span> <span class="st">'magenta'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">cocktail</span>,
    name <span class="op">=</span> <span class="st">'Cocktail'</span>,
    fillcolor <span class="op">=</span> <span class="st">'green'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">gin</span>,
    name <span class="op">=</span> <span class="st">'Gin'</span>,
    fillcolor <span class="op">=</span> <span class="st">'skyblue'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">liqueur</span>,
    name <span class="op">=</span> <span class="st">'Liqueur'</span>,
    fillcolor <span class="op">=</span> <span class="st">'orange'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">rum</span>,
    name <span class="op">=</span> <span class="st">'rum'</span>,
    fillcolor <span class="op">=</span> <span class="st">'brown'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">schnapps</span>,
    name <span class="op">=</span> <span class="st">'Schnapps'</span>,
    fillcolor <span class="op">=</span> <span class="st">'darkgreen'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">tequila</span>,
    name <span class="op">=</span> <span class="st">'Tequila'</span>,
    fillcolor <span class="op">=</span> <span class="st">'gold'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">vodka</span>,
    name <span class="op">=</span> <span class="st">'Vodka'</span>,
    fillcolor <span class="op">=</span> <span class="st">'cyan'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="op">~</span><span class="va">whiskey</span>,
    name <span class="op">=</span> <span class="st">'Whiskey'</span>,
    fillcolor <span class="op">=</span> <span class="st">'mustard'</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html">layout</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">'State Costs of Purchasing Liquor from Vendors'</span>,
    yaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      title <span class="op">=</span> <span class="st">'Proportion of Cost (US$ - Not Adjusted for Inflation)'</span>, 
      showgrid <span class="op">=</span> <span class="cn">F</span>, 
      ticksuffix <span class="op">=</span> <span class="st">'%'</span><span class="op">)</span>,
    xaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      title <span class="op">=</span> <span class="st">'Year/Month'</span>, 
      showgrid <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>,
    annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1.2</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>,
                     text <span class="op">=</span> <span class="st">"Source: Iowa Data Portal"</span>,
                     showarrow <span class="op">=</span> <span class="cn">F</span>, xref <span class="op">=</span> <span class="st">'paper'</span>, yref <span class="op">=</span> <span class="st">'paper'</span>,
                     font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, color <span class="op">=</span> <span class="st">'darkblue'</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-43b0c7c68ae2c1fdd889" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-43b0c7c68ae2c1fdd889">{"x":{"visdat":{"240546d5881d":["function () ","plotlyVisDat"]},"cur_data":"240546d5881d","attrs":{"240546d5881d":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"magenta","name":"Brandy","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"240546d5881d.1":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"green","name":"Cocktail","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"240546d5881d.2":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"skyblue","name":"Gin","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"240546d5881d.3":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"orange","name":"Liqueur","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"240546d5881d.4":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"brown","name":"rum","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"240546d5881d.5":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"darkgreen","name":"Schnapps","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"240546d5881d.6":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"gold","name":"Tequila","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"240546d5881d.7":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"cyan","name":"Vodka","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"240546d5881d.8":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"mustard","name":"Whiskey","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"State Costs of Purchasing Liquor from Vendors","yaxis":{"domain":[0,1],"automargin":true,"title":"Proportion of Cost (US$ - Not Adjusted for Inflation)","showgrid":false,"ticksuffix":"%"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Year/Month","showgrid":false},"annotations":[{"x":1.2,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}},{"x":1.2,"y":-0.1,"text":"Source: Iowa Data Portal","showarrow":false,"xref":"paper","yref":"paper","font":{"size":10,"color":"darkblue"}}],"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[512356.8,585271.12,704709.53,625642.39,573846.67,705479.55,586646.75,611215.72,661561.16,672086.81,708290.08,903021.62,545220.35,403437.73,789750.23,616592.38,697501.54,670830.55,533817.01,578892.42,728573.16,742239.52,873961.2,997831.18,683759.69,722004.68,892526.63,741552.85,935033.32,819622.99,730682.07,930210.55,702293.21,831587.17,1038873.14,780919.71,746854.63,831900.34,817035.35,1013630.22,935790.72,845199.99,779176.83,886778.11,778201.55,1001433.6,971410.98,1085741.98,857408.6,820468.24,881581.6,1000168.91,1033682.21,872269.03,1008188.07,898702.15,868622.93,952213.71,987397.02,1259457.41,870716.16,839092.34,1254471.51,1197056.46,1452268.09,1465308.31,1451170.42,1399823.8,1161163.78,1317479.39],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"magenta","name":"Brandy","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[166249.21,207841.67,179867.92,425917.24,328688.27,332669.06,326891.38,224972.68,198260.84,159592.37,163027.81,224472.52,150441.11,210764.94,246542.91,523546.39,325761.33,419047.96,266280.86,224370.65,194438.81,155305.11,173866.1,225719.42,164297.18,202696.09,303340.84,550929.68,310250.45,490748.02,345977.66,299599.61,205814.89,185512.07,177445.9,216259.77,194039.16,204238.59,224649.34,618034.56,434717.94,440511.73,302973.96,340567.43,175845.79,206901.44,180713.96,247481.93,222751.75,270986.59,238936.41,658705.26,342668.04,349165.45,401256.44,284273.7,220506.23,231740.29,183599.13,261055.64,221804,270607.49,362193.68,967205.17,748895.18,857028.31,592921.87,488373.05,397123.47,342578.14],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"green","name":"Cocktail","type":"scatter","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[297592.84,324176.42,398936.88,418140.71,448332.61,547183.09,467527.46,498747,404237.58,383448.82,405876.67,486293.56,320247.57,333956.79,381678.45,400088.87,463093.35,564292.18,420165.25,422333.47,427416.65,380053,398670.53,472661.34,311951.73,314702.23,362451.58,389346.98,513341.14,564304.94,503537.16,497466.65,362637.88,415557.03,423079.98,476474.41,353907.99,328569.57,347647.8,415454.77,512512.63,508812.53,530509.91,563908.76,414507.06,449604.25,409361.65,519696.76,380199.02,325961.34,332040.77,505976.51,539946.42,491026.01,595786.33,498747.92,427580.77,451447.83,449730.75,532300.67,351654.46,349060.05,455820.34,454874.21,521608.8,605094.63,551999.47,555427.73,599012.15,488921],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"skyblue","name":"Gin","type":"scatter","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[966152.66,1042991.31,1125218.89,918529.26,924038.3,1097700.12,906791.39,927553.99,982378.29,1175012.89,1141546.5,1794459.34,910380.94,787591.44,935171.38,712543.61,880970.89,830133.77,692343.95,765929.67,961626.32,1144135.99,1229290.11,1883598.9,900439.19,847843.42,1074574.31,828844.32,1043219.63,1101268.65,918615.5,1071086.81,864419.73,1227457.62,1358561.41,1734168.25,1099877.02,894704.38,1085006.38,984654.67,1062775.73,940634.19,975488.85,1153690.43,897017.81,1436077.19,1374193.4,1765905.11,978316.26,932194.55,944349.86,918681.92,1107462.35,888689.11,1017234.61,890598.8,941135.13,1273162.29,1398049.78,1750107.22,1045199.95,881807.37,1122886.94,997707.25,1174530.78,1286469.48,1172514.79,1113172.59,1305948.65,1616372.06],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"orange","name":"Liqueur","type":"scatter","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[1608065.64,1942042.31,1993362.14,1986322.82,1955582.81,2360514.38,2107916.41,1882986.07,2162159.35,2202432.6,1840490.67,2579915.33,1534483.89,1855721.31,1933591.95,1765456.13,2231169.55,2259782.64,1839071.29,1668803.62,2045030.23,2080546.82,1929738.74,2448521.25,1537276.34,1690715.87,2110692.21,1746904.3,2310381.9,2296351.35,2141750.87,2104465.69,1916361.66,2270295.35,1915741.25,2348912.8,1740508.25,1689305.73,2186952.93,1779435.15,2584649.18,2281360.82,1796248.48,2712687.63,1597944.62,2364229.67,1973734.33,2352249.47,1678059.57,1798142.85,2256766.2,1856986.64,2433791.43,2033825.72,2213310.06,1963375.81,1847474.2,2414994.28,1911179.81,2201006.53,1753591.22,1701368.07,2242854.59,2478641.33,1970634.49,2344806.11,2524988.05,2020097.79,2480498.19,2225001.04],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"brown","name":"rum","type":"scatter","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[512610.19,501161.83,648510.34,505104.29,483858.34,642665.71,496555.31,492686.49,566816.35,536020.37,663784.02,684013.78,487824.71,579467.82,653528.93,510907.65,598299.52,644261.96,492753.67,500753.33,547631.4,550124.11,630276.89,707234.36,520207.88,458481.29,577936,490883.88,577741.53,588424.21,544554.22,584240.13,483996.87,564542.8,607749.11,620897.79,617509.47,496266.86,560415.94,551110.86,603403.72,572168.48,530004.3,592698.72,492058.93,662301.38,620413.35,705950.17,613706.01,502845.73,545346.7,596788.57,639883.06,558999.43,641685.82,571974.29,532171.09,651470.58,641190.87,727431.69,579180.7,522139.49,550365.76,399745.6,535941.6,729218.47,687088.89,684699.3,674617.5,698394.04],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"darkgreen","name":"Schnapps","type":"scatter","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"line":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[680062.78,736072.76,837910.5,1076327.55,921785.02,1048370.67,967435.13,820297.67,869893.01,822520.53,771417.19,985642.49,689070.65,837967.3,880938.87,1006408.66,1027611.26,1074792.54,798606.03,833792.9,870629.85,879479.62,915249.36,1013501.24,769630.29,835787.6,979735.13,1121705.93,1186202.35,1138394.38,1043231.83,1151180.82,861709.37,979322.19,991944.4,1001244.94,823278.98,852984.35,1033226.58,1264410.56,1274589.16,1072834.85,1179117.39,1372905.59,888353.02,1377228.87,1012696.47,1160716.49,897582.71,932230.81,1008815.18,1597172.58,1470188.62,1258771.39,1343196.41,1251922.93,976074.63,1339446.47,1095066.57,1330890.11,997945.32,1011001.49,1185742.9,1550327.03,1536902.96,1834764.17,1859251.46,1781014.11,1469028.49,1709970.85],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"gold","name":"Tequila","type":"scatter","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"line":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[3092224.26,2922529.43,3613768.78,3614853.71,3539585.31,4748333.03,3899786.45,3995110.38,4129296.27,3796654.32,3573586.29,4427949.93,3140343.34,3317362.9,3678541.9,3434462.26,4144437.91,4788535.13,3761203.09,3951657.35,4188653.78,3967984.31,3859707.85,4450483.5,3163834.19,3722732.8,3863840.86,3680284.44,4458584.36,5203073.67,4487127.85,5018646.75,4381445.43,4439248.3,4123309.81,4435547.28,3645834.19,3620966,3935324.03,4244672.98,5139637.73,5193454.46,5139327.57,5249139.89,4367709.89,4868530.75,4623268.97,5053961.36,3933939.16,3689738.14,3601578.38,4278013.98,5478715.94,5393522.32,5098217.27,5232364.46,4654476.99,5016729.48,4332013.1,4556395.84,3912691.3,3917043.14,4681836.55,4934827.66,4966781.73,5618533.26,5279991.65,5580807.68,5979344.16,5084534.26],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"cyan","name":"Vodka","type":"scatter","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"line":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01"],"y":[4281759.5,5652776.21,5752678.46,5439976.34,5566590.49,6098408.71,4932185.09,5049198.77,5825830.45,6634754.27,5983504.71,7695048.17,4589986.8,6006342.99,5570518.89,5304394.97,5869083.91,5630762.25,4519177.72,5008198.58,6051751.81,6902831.64,6425532.16,8308295.56,4844716.89,5996051.51,5867878.79,5177617.86,6551849.44,6080524.74,5491289.21,6046894.43,5998594.88,7802311.86,6548819.68,8579469.24,5484930.17,6023281.3,6043525.69,6159610.84,7024933.81,6558561.94,5762992.84,7000720.14,5668223.37,9413118.89,7195135.42,9572505.03,5704289.14,6767009.82,6140331.49,6407019.15,7738018.6,6893495.76,7453001.38,6546700.36,7253956.88,9241189.18,7998198.24,9552697.86,6445269.36,7091466.32,8101838.6,7613119.69,7871008.96,8418425.18,8073260.52,7715723.86,9194628.33,9912063.86],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"mustard","name":"Whiskey","type":"scatter","marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"line":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>It is not suprising to see that whiskey, rum, and vodka continue to have the most cost. Much of this can be attributed to the quantity the state purchases.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nikhil Agarwal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
